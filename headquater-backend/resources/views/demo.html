<!-- Appointment Button -->
<button id="custom-appoint-form" class="custom-appoint-btn">
    Book Appointment
    <span
        style="
            font-weight: 700;
            background-color: #ffffff;
            color: #274291;
            padding: 4px 12px;
            border-radius: 20px;
        "
    >₹799</span>
</button>

<script>
    document.getElementById("custom-appoint-form").onclick = function (e) {
        e.preventDefault();

        // Optional note for checkout (if needed)
        const summaryNote = "Health check appointment booking for ₹799";

        // Clear cart and add the health check product
        fetch("/cart/clear.js")
            .then(() => {
                return fetch("/cart/add.js", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ id: 44753612275891, quantity: 1 }), // Replace with correct variant ID
                });
            })
            .then(() => {
                // Redirect to checkout with optional note
                window.location.href = "/checkout?note=" + encodeURIComponent(summaryNote);
            })
            .catch((error) => {
                console.error("Error:", error);
            });
    };
</script>
